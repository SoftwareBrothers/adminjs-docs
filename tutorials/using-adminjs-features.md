# Using AdminJS features

{% hint style="warning" %}
This article is outdated and it may contain information that is no longer up-to-date. It will be re-written soon!
{% endhint %}

in v3 of AdminJS, we introduced **AdminJS features**.

From business perspective **Feature** is a chunk of code which solves one business problem and it can be applied to selected resource/resources.

From the technical perspective **Feature** is a function returning [ResourceOptions](https://adminjs.page.link/resource-options-code).

> We wrote them because we want the sharing functionalities among projects to be super easy.

The feature can be:

* file upload
* blog
* password hashing
* user profile ...etc

### Using features

Features are passed to configuration along with the resources and their options.

Let me show you an example:

```typescript
const User = require('./models/user')
const argon2 = require('argon2')
const hashPassword = require('@adminjs/passwords')

const adminJsOptions = {
  resources: [
    {
      resource: User,
      options: {
        //...your regular options go here'
        properties: { encryptedPassword: { isVisible: false } },
      },
      features: [hashPassword({
        properties: {
          encryptedPassword: 'myDbField',
          password: 'password'
        }
        hash: argon2.hash,
      })]
    },
  ],
  //...
}
```

### Writing your own features

As I mentioned the **feature** is a simple function which returns [ResourceOptions](https://adminjs.page.link/resource-options-code). Simple as that.

But since **features** can be chained they also take [ResourceOptions](https://adminjs.page.link/resource-options-code) generated by the previous **features** as a parameter.

Simple feature implementation (idea):

```typescript
const feature = (prevResourceOptions) {
  return {
    ...prevResourceOptions,
    actions: {
      ...prevResourceOptions.actions,
      edit: {
        ...(prevResourceOptions.actions && prevResourceOptions.actions.edit),
        //..
      }
      //..
    }
  }
}

export { feature }
```

As you can see, in the example above, that you have to take care of merging previous options, which could be problematic.

Fortunately AdminJS gives you the helper functions for that:

* factory function [buildFeature](https://adminjs.page.link/build-feature)
* and optional helper [mergeResourceOptions](https://adminjs.page.link/build-feature), when you need more control.

This is how a feature could look when we use [buildFeature](https://adminjs.page.link/build-feature) function:

```typescript
const { buildFeature } = require('adminjs')

const feature = buildFeature({
  actions: {
    before: myBeforeHook
  }
})
```

If you need to access AdminJS instance (for example to add or override components, see [writing-your-own-components.md](../ui-customization/writing-your-own-components.md "mention")), you can do so like this:

```typescript
const { buildFeature } = require('adminjs')

const feature = buildFeature(admin => {
    const MyComponent = admin.loader.add('MyComponent', './my-component')
    
    return {
      // you can now use `MyComponent` here
    }
})
```

### Available features

#### Supported by AdminJS team

* [Password Hashing Feature](https://adminjs.page.link/adminjs-passwords)
* [Uploading files](https://adminjs.page.link/adminjs-upload)

#### Community plugins

* [UserPermissions](https://github.com/johnyvelho/adminjs-users-permissions)

We've just added **features** to adminjs@3. On this page, we will write all the things which we, or the community, will create.

So let's create the first feature!!!
